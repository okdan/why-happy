<!doctype html>
<html>
	<head>
	  <meta charset="utf-8" />

	  <title>Why happy?</title>
	  <meta name="viewport" content="width=device-width">
	  <link rel="stylesheet" href="styles.css">
	  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.8.min.js"></script>
	  <script type="text/javascript" src="Ractive.min.js"></script>
	  <script type="text/javascript" src="moment.min.js"></script>
	</head>

	<body>

		<h1>Why are you happy?</h1>
		<div id="happiness"></div>

		<script id="happiness-template" type="text/ractive">
			<form proxy-submit="addHappyReason">
				<input type="text" value="{{newReason}}"/>
				<button type="submit">That's why</button>
			</form>

			<ul id="reasons">
				{{#tempReason}}
					<li>{{ tempReason }}</li>
				{{/tempReason}}
				{{#reasons}}
					{{#attributes.reason}}
					<li>
						{{ attributes.reason }}
						<span class="timestamp">{{ df(createdAt) }}</span>
						<a class="delete" proxy-tap="deleteReason" href="#">&times;</a>
					</li>
					{{/attributes.reason}}
				{{/reasons}}
			</ul>
			{{^reasons}}
				<div intro="fade" class="loading">loading...</div>
			{{/reasons}}
	  </script>


	  <script type="text/javascript" src="why-happy.js"></script>
	</body>

</html>
